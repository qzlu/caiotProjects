!function(y,v,o){"use strict";var B="ht",k=y[B],q=null,e=Math,Z=e.abs,s=e.max,I=Number.MAX_VALUE,r=k.Default,C=r.getInternal(),z=r.clone,a=C.vec3TransformMat4,M=C.appendArray,E=function(){var e=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,G=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,f=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,O=function(i,n){return n=parseInt(n),n>=0?i[n-1]:i[n+i.length]},k=function(W,T,N,l,D,L){if(W.vs){var V=O(T,l),Z=O(T,D),Y=O(T,L),B=N.matrix,$=W.vs;if(N.flipFace){var o=Z;Z=Y,Y=o}B?(M($,a(z(V),B)),M($,a(z(Z),B)),M($,a(z(Y),B))):(M($,V),M($,Z),M($,Y))}},h=function(o,E,i,J,A,K){if(o.vs){var z=O(E,J),W=O(E,A),G=O(E,K),V=i.flipY;if(i.flipFace){var P=W;W=G,G=P}o.uv.push(z[0],V?1-z[1]:z[1],W[0],V?1-W[1]:W[1],G[0],V?1-G[1]:G[1])}},A=function(H,c,y,u,v,_){if(H.vs){var r=O(c,u),g=O(c,v),h=O(c,_),L=y.normalMatrix,$=H.ns;if(y.flipFace){var A=g;g=h,h=A}L?(M($,a(z(r),L)),M($,a(z(g),L)),M($,a(z(h),L))):(M($,r),M($,g),M($,h))}},j=function(C,L,y,Y,e,G,q,r){var c=Y&&Y.length&&r;G[3]===o?(k(C,L,e,G[0],G[1],G[2]),q&&h(C,y,e,q[0],q[1],q[2]),c&&A(C,Y,e,r[0],r[1],r[2])):(k(C,L,e,G[0],G[1],G[3]),k(C,L,e,G[1],G[2],G[3]),q&&(h(C,y,e,q[0],q[1],q[3]),h(C,y,e,q[1],q[2],q[3])),c&&(A(C,Y,e,r[0],r[1],r[3]),A(C,Y,e,r[1],r[2],r[3])))},w=function(Y,z,w,t){var P,m,H,e,j,C,L,u=I,K=I,U=I,G=-I,S=-I,v=-I;for(P in Y)for(C=Y[P].vs,L=C.length,m=0;L>m;m+=3)H=C[m+0],e=C[m+1],j=C[m+2],u>H&&(u=H),K>e&&(K=e),U>j&&(U=j),H>G&&(G=H),e>S&&(S=e),j>v&&(v=j);if(w){var y=u+(G-u)/2,c=K+(S-K)/2,g=U+(v-U)/2;for(P in Y)for(C=Y[P].vs,L=C.length,m=0;L>m;m+=3)C[m+0]-=y,C[m+1]-=c,C[m+2]-=g}var q,f,Q;w?(q=G-u,f=S-K,Q=v-U):(q=2*s(Z(u),Z(G)),f=2*s(Z(K),Z(S)),Q=2*s(Z(U),Z(v))),0===q&&(q=Math.min(f,Q)/1e3||.001),0===f&&(f=Math.min(q,Q)/1e3||.001),0===Q&&(Q=Math.min(q,f)/1e3||.001),t.rawS3=[q,f,Q];for(P in Y){if(C=Y[P].vs,z)for(L=C.length,m=0;L>m;m+=3)q&&(C[m+0]/=q),f&&(C[m+1]/=f),Q&&(C[m+2]/=Q);Y[P].rawS3=t.rawS3}};return function(p,P,L){if(!p)return q;(C.isString(P)||P instanceof ArrayBuffer)&&(P=l(P)),L||(L={}),L.flipY==q&&(L.flipY=!0),(L.s3||L.r3||L.t3||L.mat)&&(L.matrix=C.createWorldMatrix(L.mat,L.s3,L.r3,L.rotationMode,L.t3));var Y,R,o,J,y,d,x=[],T=[],O=L.ignoreNormal?q:[],v=L.reverseFlipMtls,c={vs:[],uv:[],ns:O?[]:q},z={htdefault:c},V=new H(p);for(O&&L.matrix&&(L.normalMatrix=C.createNormalMatrix(L.matrix));null!=(R=V.stepNext());)if(R=R.trim(),0!==R.length&&"#"!==R.charAt(0))if(R.indexOf("#QNAN0")>=0&&(R=R.replace(/#QNAN0/gi,"0")),o=e.exec(R))x.push([parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3])]);else if(o=G.exec(R))T.push([parseFloat(o[1]),parseFloat(o[2])]);else if(O&&(o=f.exec(R)))L.flipFace?O.push([parseFloat(-o[1]),parseFloat(-o[2]),parseFloat(-o[3])]):O.push([parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3])]);else if("f"===R[0]){var g=R.split(/\s+/);if(g.length<4)continue;var K,Y,X,k=[],N=[],B=[];for(Y=1,X=g.length;X>Y;Y++)K=g[Y].split("/"),k.push(parseInt(K[0],10)),K.length>1&&K[1].length>0&&B.push(parseInt(K[1],10)),K.length>2&&K[2].length>0&&N.push(parseInt(K[2],10));for(Y=0,X=k.length-2;X>Y;Y++)j(c,x,T,O,L,[k[0],k[Y+1],k[Y+2]],B.length?[B[0],B[Y+1],B[Y+2]]:q,N.length?[N[0],N[Y+1],N[Y+2]]:q)}else if(/^usemtl /.test(R)&&(J=R.substring(7).trim(),!(c=z[J]))){if(c={name:J,vs:[],uv:[],ns:O?[]:q},L.ignoreMtls&&L.ignoreMtls.indexOf(J)>=0&&delete c.vs,(L.reverseFlip||"*"===v||v&&v.indexOf(J)>=0)&&(c.reverseFlip=!0),P&&(y=P[J],y&&(L.ignoreColor||(c.color=y.kd),!L.ignoreTransparent&&y.d>0&&y.d<1&&(c.transparent=!0,c.opacity=y.d),!L.ignoreImage&&(d=y.map_kd)))){d=d.split(" ");var i=-1;for(Y=0;Y<d.length;Y++)"-o"===d[Y]?(c.uvOffset=[parseFloat(d[Y+1]),parseFloat(d[Y+2])],Y+=3,i=Y):"-s"===d[Y]&&(c.uvScale=[parseFloat(d[Y+1]),parseFloat(d[Y+2])],Y+=3,i=Y);c.image=(L.prefix||"")+d.splice(i+1).join(" ")}z[J]=c}var t=[];for(var h in z){var n=z[h].vs;n&&0!==n.length||t.push(h)}t.forEach(function(q){delete z[q]}),w(z,L.cube,L.center,L);var b=L.shape3d;if(b){var s=[];for(var J in z){var c=z[J];s.rawS3=c.rawS3,s.push(c)}r.setShape3dModel(b,s)}return z}}(),l=function(A){var $={};if(A)for(var d,i,G,m,I,g,c=new H(A),e=/\s+/;null!=(i=c.stepNext());)i=i.trim(),0!==i.length&&"#"!==i.charAt(0)&&(G=i.indexOf(" "),m=(G?i.substring(0,G):i).toLowerCase(),I=(G?i.substring(G+1):"").trim(),"newmtl"===m?$[I]=d={name:I}:d&&("ka"===m||"kd"===m||"ks"===m?(g=I.split(e,3),d[m]=[parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]),1]):d[m]="ns"===m||"d"===m?parseFloat(I):I));return $},H=function(f){var t=this;if(f instanceof ArrayBuffer){t.isBuffer=!0;var p=0,O=new Uint8Array(f),e=O.length,g=O.length;t.stepNext=function(){for(var L,s,A=p;e>p;)if(L=O[p],s=L>>4,12===s||13==s)p+=2;else if(14===s)p+=3;else if(p++,10===L)return String.fromCharCode.apply(null,O.subarray(A,p));return p>A?String.fromCharCode.apply(null,O.subarray(A,p)):null}}else{t.isBuffer=!1;var q=f.split("\n"),n=0,g=q.length;t.stepNext=function(){return g>n?q[n++]:null}}};H.prototype={},H.prototype.constructor=H,C.addMethod(r,{loadObj:function(K,N,R){R=R||{};var V=!1;/(MSIE |Trident\/|Edge\/)/.test(y.navigator.userAgent)&&(V=!0);var X=function(w){var m,t=R.finishFunc,N=R.shape3d,A=w?E(w[0],w[1],R):null;if(A){if(N)m=r.getShape3dModel(N);else{m=[];for(var Q in A){var J=A[Q];m.rawS3=J.rawS3,m.push(J)}}t&&t(A,m,m.rawS3)}else t&&t(null)};if(V){var M=function(j){R.responseType="arraybuffer",r.xhrLoad(K,function(d){X([d,j])},R)};N?r.xhrLoad(N,function(A){M(A)},R):M()}else r.xhrLoad(N?[K,N]:[K],X,R)},parseObj:function(Y,R,J){return E(Y,R,J)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);