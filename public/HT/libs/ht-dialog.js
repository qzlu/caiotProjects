!function(C,v){"use strict";var A="ht",R=C[A],w="px",e="left",Q="top",N="bottom",J="right",E="innerHTML",z="className",h="",L="width",o="height",c="string",T="position",B="absolute",d="0",u="opacity",U="background",b=R.Default,y=b.getInternal(),W=R.Color,x=b.animate,F=b.isTouchable,f=null,Y=(Math.sqrt,C.parseInt),P=C.setTimeout,X=(Math.round,W.titleIconBackground),r=function(l){return typeof l===c||l instanceof String},a=function(){return document},O=function(X){return a().createElement(X)},G=function(){var l=O("div");return l.tabIndex=-1,l.style.outline="none",l},p=function(){return O("canvas")},s=function(y,d){Z(y,"-webkit-transform",d),Z(y,"-ms-transform",d),Z(y,"transform",d)},Z=function(r,M,G){r.style.setProperty(M,G,f)},_=function(g,s,Y){b.def(R.widget[g],s,Y)},I=function(f,x){f.appendChild(x)},k=function(){return a().documentElement},M=function(){return k().clientWidth},m=function(){return k().clientHeight},K=b.eventListenerOptionsFalse,j=(b.eventListenerOptionsTrue,function(m,i,G,t){m.addEventListener(i,G,t?K:K)}),V=function(n,S,U,C){n.removeEventListener(S,U,C?K:K)},q=function(z){var u=z.touches[0];return u?u:z.changedTouches[0]};y.addMethod(b,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:X},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:X}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:X},{type:"rect",rect:[10,10,80,20],background:X}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:X},{type:"rect",rect:[10,34,56,14],background:X},{type:"rect",rect:[34,10,56,14],background:X},{type:"rect",rect:[82,10,8,56],background:X},{type:"rect",rect:[66,62,24,8],background:X}]},dialogTitleLabelColor:b.labelSelectColor,dialogTitleLabelFont:(F?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:b.labelFont,dialogTitleBackground:W.titleBackground,dialogHeaderBackground:W.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var $=function(v){var L=this;L.$1d=v,L.addListeners()};b.def($,v,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(C){var j=this,H=j.$1d,S=H.$6d,k=H._config,J=H.$7d,A=C,$=C.target;if(J.contains($)||b.preventDefault(C),b.isLeftButton(C)){F&&(A=q(C));var Z=j.$8d={x:A.pageX,y:A.pageY};j.$9d={x:Z.x,y:Z.y},!k.maximized&&k.draggable&&S.contains($)&&(j.$4d=!0,b.startDragging(j,C)),j.handle_mousemove(C)&&(j.$2d=!0,b.startDragging(j,C)),J.contains(C.target)||H.$41d.focus()}},handle_mousedown:function(A){this.handle_touchstart(A)},handle_touchend:function(r){if(b.isLeftButton(r)&&!this.$5d&&!this.$3d){var q=this,I=q.$1d,g=r.target,V=I._config,u=I.$18d,l=I.$16d;for(V.closable&&u.contains(g)&&I.hide(),V.maximizable&&l.contains(g)&&(V.maximized?I.restore():I.maximize());g&&(g.className||"").indexOf("dialog-button")<0;)g=g.parentNode;g&&g.buttonItem&&I.action&&I.action(g.buttonItem,r),delete q.$8d,delete q.$9d}},handle_mouseup:function(H){this.handle_touchend(H)},handleWindowTouchEnd:function(j){var E=this,D=E.$1d,l=D.$10d;E.$2d&&E.$3d?l.fire({kind:"endResize",target:D,originEvent:j}):E.$4d&&E.$5d&&l.fire({kind:"endMove",target:D,originEvent:j}),this.clear()},handleWindowMouseUp:function(K){this.handleWindowTouchEnd(K)},handle_mousemove:function(W){var V=this.$1d._config;if(V.maximized)return!1;if("w"!==V.resizeMode&&"h"!==V.resizeMode&&"wh"!==V.resizeMode)return!1;var A=this,n=A.getView(),C=n.querySelector(".resize-area"),B=C.getBoundingClientRect(),Y={x:B.left,y:B.top,width:B.width,height:B.height};W=F?q(W):W;var w=W.clientX,j=W.clientY,y={x:w,y:j};return b.containsPoint(Y,y)?(Z(n,"cursor","nwse-resize"),!0):(Z(n,"cursor",h),void 0)},handleWindowTouchMove:function(P){P.preventDefault();var p=P;F&&(p=q(P));var o=this,d=o.$8d,g=o.$9d;if(!(g.x==d.x&&g.y==d.y&&b.getDistance(g,{x:p.pageX,y:p.pageY})<=1)){var V=o.$1d,i=V._config,R=V.$21d,$=i.resizeMode||"wh",L=p.pageX-d.x,n=p.pageY-d.y;if(o.$2d){var A=R.offsetWidth,X=R.offsetHeight,U=A+L,S=X+n;if(U=Math.max(U,50),S=Math.max(S,50),"center"===i.position||i.position==f){var y={},h=R.getBoundingClientRect();y.x=h.left,y.y=h.top,i.position=y}"w"===$?(V.setSize(U,X),d.x+=U-A):"h"===$?(V.setSize(A,S),d.y+=S-X):"wh"===$&&(V.setSize(U,S),d.x+=U-A,d.y+=S-X),o.$3d?V.$10d.fire({kind:"betweenResize",target:V,originEvent:P}):(o.$3d=!0,V.$10d.fire({kind:"beginResize",target:V,originEvent:P}))}else if(o.$4d){var W=R.getBoundingClientRect(),I=W.width,B=W.height,G=M(),x=m(),K=Y(R.style.left)||0,s=Y(R.style.top)||0,N=K+L,k=s+n,c=V.adjustPosition({x:N,y:k},{width:I,height:B},{width:G,height:x});c&&(N=c.x,k=c.y);var _=N-K,C=k-s;Z(R,e,N+w),Z(R,Q,k+w),d.x+=_,d.y+=C,i.position={x:N,y:k},o.$5d?V.$10d.fire({kind:"betweenMove",target:V,originEvent:P}):(o.$5d=!0,V.$10d.fire({kind:"beginMove",target:V,originEvent:P}))}}},handleWindowMouseMove:function(e){this.handleWindowTouchMove(e)},handleWindowResize:function(){var G=this,A=G,u=A._config,i=A.$21d,C=M(),O=m(),l=u.width,K=u.height,B=u.position||"center";u.maximized?(Z(i,L,C+w),Z(i,o,O+w),Z(i,Q,d),Z(i,e,d)):(Z(i,L,l+w),Z(i,o,K+w),"center"===B?(Z(i,e,(C-l)/2+w),Z(i,Q,(O-K)/2+w)):(Z(i,e,B.x+w),Z(i,Q,B.y+w))),A.iv()},handle_mousewheel:function(C){C.stopPropagation()},handle_DOMMouseScroll:function(R){R.stopPropagation()}}),R.widget.Dialog=function(Y){var g=this,Q=g._view=y.createView(null,g);Q[z]="ht-widget-dialog",Z(Q,T,B),b.baseZIndex!=f&&Z(Q,"z-index",b.baseZIndex+"");var W=g.$11d=new $(g);g.bindingHandleWindowResize=W.handleWindowResize.bind(g),g.$10d=new R.Notifier,Y&&g.setConfig(Y)},_("Dialog",v,{ms_v:1,ms_fire:1,setTitle:function(l){this._config.title=l,this.getView().querySelector(".dialog-container-title span").innerHTML=l},clearNodes:function(q){if(q)for(;q.firstChild;)q.removeChild(q.firstChild)},$31d:function(){var o=this,d=o.$6d=G(),q=o._config,B=o.$12d=o.$13d();d[z]="dialog-container-title",Z(d,"cursor","default"),Z(d,"white-space","nowrap"),Z(d,"overflow","hidden"),Z(d,"font",b.dialogTitleLabelFont),Z(d,U,q.titleBackground||b.dialogTitleBackground),Z(d,"color",q.titleColor||b.dialogTitleLabelColor);var g=O("span"),m=o.$25d();if(q.titleAlign&&Z(d,"text-align",q.titleAlign),q.titleIcon){var f=o.$14d=o.$15d();I(d,f)}if(q.title&&q.title.trim&&(q.title=q.title.trim()),g[E]=q.title||"&nbsp;",I(d,g),q.maximizable){var s=o.$16d=o.$17d();I(B,s)}if(q.closable){var e=o.$18d=o.$19d();I(B,e)}return I(d,B),Z(d,"display","block"),Z(d,"line-height",m+w),d},$13d:function(){var u=G();return Z(u,T,B),Z(u,e,d),Z(u,J,5+w),Z(u,Q,d),Z(u,N,d),Z(u,"text-align",J),Z(u,"white-space","nowrap"),u[z]="dialog-title-controls",u},$20d:function(){var _=this.$21d=G(),t=this._config,s=t.borderWidth;return Z(_,T,"fixed"),Z(_,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),Z(_,"padding",d+" "+s+w+" "+s+w+" "+s+w),Z(_,"box-sizing","border-box"),Z(_,"-moz-box-sizing","border-box"),_[z]="dialog-container",Z(_,U,t.titleBackground||b.dialogTitleBackground),_},$22d:function(){var i,D=this,K=D._config,F=D.$7d=G(),s=K.content,$=0,P=K.contentPadding||0;K.buttons!=f&&K.buttons.length>0&&($=32),r(s)?F[E]=s:s.getView?(i=s.getView(),I(F,i)):(i=s,I(F,i)),Z(F,T,B),Z(F,"font",b.dialogContentLabelFont),R.Default.appendToScreen(F);var U=F.offsetWidth+1,O=F.offsetHeight,y=D.$25d();return K.width==f&&(K.width=U+10+2*P),K.height==f&&(K.height=O+y+$+5+2*P),R.Default.removeHTML(F),i&&(Z(i,"box-sizing","border-box"),Z(i,"-moz-box-sizing","border-box"),Z(i,L,"100%"),Z(i,o,"100%")),F[z]="dialog-content",Z(F,Q,y+P+w),Z(F,N,$+P+w),Z(F,e,P+w),Z(F,J,P+w),Z(F,"overflow","hidden"),F},getOverlayDiv:function(){return this.$41d},$23d:function(){var M=this.$41d=G();return M[z]="dialog-overlay",Z(M,L,"100%"),Z(M,o,"100%"),Z(M,T,"fixed"),Z(M,Q,d),Z(M,e,d),Z(M,U,"rgba(235, 235, 235, 0.7)"),M},_config:f,setSize:function(m,_){var i=this,b=i._config;b&&(b.width=m,b.height=_,i.isShowing()&&(i.bindingHandleWindowResize(),i.iv()))},getConfig:function(){return this._config},$24d:function(){var w=this._config,Y=w.titleIconSize||16;return F&&(Y*=1.2),Y},$25d:function(){var U=this._config,o=U.titleHeight||b.widgetTitleHeight;return o},$26d:function(M){Z(M,"cursor","pointer"),Z(M,"display","inline-block"),Z(M,"margin-right",(F?8:4)+w),Z(M,"vertical-align",Q)},$27d:function(){var y=this.$30d=G(),m=10;return F&&(m=20),Z(y,L,m+w),Z(y,o,m+w),Z(y,T,B),Z(y,N,d),Z(y,J,d),y[z]="resize-area",y},$15d:function(){var $=this,E=p();E[z]="dialog-title-control dialog-title-control-icon";var h=$.$25d(),L=$.$24d();return $.$26d(E),y.setCanvas(E,L,h),E},$17d:function(){var D=p();D[z]="dialog-title-control dialog-title-control-maximize";var V=this.$25d(),X=this.$24d();return this.$26d(D),y.setCanvas(D,X,V),D},$19d:function(){var l=p();l[z]="dialog-title-control dialog-title-control-close";var n=this.$25d(),t=this.$24d();return this.$26d(l),y.setCanvas(l,t,n),l},$28d:function(){var v=G();return Z(v,U,"white"),Z(v,L,"100%"),Z(v,o,"100%"),Z(v,T,"relative"),v},$29d:function(){var j=this,D=G();Z(D,"line-height",32+w),Z(D,T,B),Z(D,N,d),Z(D,e,d),Z(D,"white-space","nowrap"),Z(D,"overflow","hidden"),Z(D,J,d),Z(D,U,b.dialogHeaderBackground),D[z]="dialog-container-buttons";var O=this._config,m=O.buttonsAlign||J,g=0;return Z(D,"text-align",m),j.$42d=[],O.buttons.forEach(function(P){var t=new R.widget.Button,r=t.getView();r[z]="dialog-button "+P.className,r.buttonItem=P,j.$42d.push(t),t.setBorderColor(f),t.setBackground(b.dialogButtonBackground),t.setSelectBackground(b.dialogButtonSelectBackground),t.setLabelColor(b.dialogButtonLabelColor),Z(r,T,"relative"),Z(r,"display","inline-block"),Z(r,"text-align",e),Z(r,"height",24+w);var c=F?10:5;m===e||m===J?Z(r,"margin-"+m,c+w):0===g||Z(r,"margin-"+e,c+w),Z(r,"vertical-align","middle");var n=b.getTextSize(t.getLabelFont(),P.label).width+10;t.onClicked=function(g){P.action&&P.action.call(j,P,g)},t.setLabel(P.label),t.setDisabled(P.disabled),Z(r,L,n+w),I(D,t.getView()),g++}),D},setConfig:function(k){if(k){var r=this,b=r._view;r._config=k,r.action=k.action,r.clearNodes(b),k.borderWidth==f&&(k.borderWidth=5);var S=r.$23d(),G=r.$28d(),j=r.$31d(),R=r.$22d(),Z=r.$20d(),v=r.$30d=r.$27d();if(I(b,S),I(b,Z),I(Z,G),I(G,j),I(G,R),k.buttons!=f&&k.buttons.length>0){var J=r.$29d();I(G,J)}I(Z,v),k.maximized?(k.maximized=!1,r.bindingHandleWindowResize(),r.maximize(!0)):r.bindingHandleWindowResize(),r.isShowing()&&r.iv()}},hide:function(){var M=this,S=M.$21d,I=M.$41d,K=M._view;K[z]="ht-widget-dialog",x(S).duration(200).scale(.7).set(u,d).end(function(){M.onHidden&&M.onHidden(),R.Default.removeHTML(K),M.$10d.fire({kind:"hide",target:M})}),x(I).duration(200).set(u,d).end(),V(C,"resize",M.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(k){this.$41d.style.display=k?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var g=this,u=g._config,q=g.$21d;s(q,h),g.iv(),u.maximized?g.$10d.fire({kind:"maximize",target:g}):g.$10d.fire({kind:"restore",target:g})},maximize:function(I){var G=this,b=G.$21d,k=G._config;if(!k.maximized){k.maximized=!0,G.$33d(),G.$16d[z]="dialog-title-control dialog-title-control-minimize";var p=M(),A=m(),B=k.width,j=k.height,K=Y(b.style.left)||0,H=Y(b.style.top)||0;G.$36d=B,G.$37d=j,G.$34d=K,G.$35d=H;var F=I?0:200;x(b).duration(F).set(e,d).set(Q,d).set(L,p+w).set(o,A+w).end(function(){G.$32d()})}},restore:function(){var $=this,b=$.$34d,F=$.$35d,l=$.$36d,N=$.$37d,P=$._config;if(P.maximized&&(P.maximized=!1,$.$33d(),$.$16d[z]="dialog-title-control dialog-title-control-maximize",$.isShowing()&&b!=f&&F!=f&&l!=f&&N!=f)){var B=$.$21d;x(B).duration(200).set(e,b+w).set(Q,F+w).set(L,l+w).set(o,N+w).end(function(){$.$32d()})}delete $.$34d,delete $.$35d,delete $.$36d,delete $.$37d},show:function(){var I=this,c=I._view,Q=I._config,G=I.$21d,Y=I.$41d;Q&&Q.zIndex!=f&&Z(c,"z-index",Q.zIndex+h),R.Default.appendToScreen(c),s(G,"scale(0.7)"),Z(G,u,d),I.iv(),I.validate(),I._view[z]+=" dialog-show",P(function(){x(G).duration(200).scale(1).set(u,"1").end(function(){Z(G,L,G.clientWidth+w),Z(G,o,G.clientHeight+w),I.onShown&&I.onShown(),I.$10d.fire({kind:"show",target:I});var e=Q&&Q.content;e&&e.iv&&e.iv()}),x(Y).duration(200).set(u,"1").end(),j(C,"resize",I.bindingHandleWindowResize)},30)},setPosition:function(f){var U=this.$21d;U.style.left=f.x+"px",U.style.top=f.y+"px"},addEventListener:function(u,h,U){this.$10d.add(u,h,U)},removeEventListener:function(X,z){this.$10d.remove(X,z)},$38d:function(f,M,s,P){var a=y.initContext(f);y.translateAndScale(a,0,0,1),a.clearRect(0,0,s,s);var $=(s-P)/2;b.drawStretchImage(a,b.getImage(M),"fill",0,$,P,P),a.restore()},$33d:function(){var Y=this,S=Y._config,C=Y.$16d,s=S.maximized?b.dialogRestoreIcon:b.dialogMaximizeIcon;if(C&&s){var O=Y.$25d(),G=Y.$24d();Y.$38d(C,b.getImage(s),O,G)}},$39d:function(){var V=this,z=V._config,X=V.$14d,e=z.titleIcon;if(X&&e){var Y=V.$25d(),k=V.$24d();V.$38d(X,b.getImage(e),Y,k)}},$40d:function(){var t=this,D=t.$18d,N=b.dialogCloseIcon;if(D&&N){var T=t.$25d(),e=t.$24d();t.$38d(D,b.getImage(N),T,e)}},invalidate:function(V){var S=this,s=S.$42d;S._68I||(S._68I=1,b.callLater(S.validate,S,f,V),S.onInvalidated&&S.onInvalidated(),S.fireViewEvent("invalidate"));var y=S._config.content;y.invalidate&&y.invalidate(),s&&s.forEach(function(v){v.iv()})},validateImpl:function(){var L=this;L.$40d(),L.$33d(),L.$39d();var g=L._config.content;g.initView&&(g.setX(0),g.setY(0),g.setWidth(L.$7d.clientWidth),g.setHeight(L.$7d.clientHeight))},adjustPosition:function(R,c,m){var M=c.width,l=c.height,A=m.width,F=m.height,P=R.x,t=R.y,n=this._config,C=n.minDragSize||20;return"inside"===n.dragMode?(P+M>A&&(P=A-M),t+l>F&&(t=F-l),0>P&&(P=0),0>t&&(t=0)):(null==n.dragMode||"none"===n.dragMode)&&(-M+C>P&&(P=-M+C),P>A-C&&(P=A-C),t>F-C&&(t=F-C),0>t&&(t=0)),{x:P,y:t}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);