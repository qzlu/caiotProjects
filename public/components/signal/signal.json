{
  "width": 100,
  "height": 100,
  "snapshotURL": "",
  "func": "__ht__function(g, rect, comp, data, view) {\n// 获取变量\r\nvar x = rect.x\r\nvar y = rect.y\r\nvar rectWidth = rect.width;\r\nvar rectHeight = rect.height;\r\n\r\nvar signalLevel = comp.getValue('signalLevel');\r\nvar signalColor = comp.getColor('signalColor');\r\n\r\nif (signalLevel < 0 || signalLevel > 5) {\r\n    signalLevel = 5;\r\n}\r\n// 定义变量\r\nvar rootWidth = rectWidth / 190;\r\nvar rootHeight = rectHeight / 190;\r\nvar signalBaseHeight = rootHeight * 50;\r\nvar signalStepHeight = rootHeight * 30;\r\nvar signalWidth = rootWidth * 30;\r\nvar signalGap = rootWidth * 10;\r\nvar signalRoundWidth = rootWidth * 8;\r\n\r\n// 背景裁切\r\ng.save()\r\ng.beginPath();\r\ng.rect(x, y, rectWidth, rectHeight);\r\ng.clip();\r\n\r\n// 绘制灰色背景\r\nfor (var i = 0; i < 5; i++) {\r\n    g.beginPath();\r\n    g.fillStyle = '#E6EAEE';\r\n    ht.Default.drawRoundRect(\r\n        g,\r\n        x + (signalWidth + signalGap) * i,\r\n        y + rectHeight - (signalBaseHeight + signalStepHeight * i),\r\n        signalWidth,\r\n        signalBaseHeight + signalStepHeight * i,\r\n        signalRoundWidth\r\n    );\r\n    g.closePath();\r\n    g.fill();\r\n}\r\n\r\n// 绘制信号条\r\nif (signalLevel === 0) {\r\n    g.restore()\r\n    return\r\n};\r\n\r\nfor (var i = 0; i < signalLevel; i++) {\r\n    g.beginPath();\r\n    g.fillStyle = signalColor\r\n    ht.Default.drawRoundRect(\r\n        g,\r\n        x + (signalWidth + signalGap) * i,\r\n        y + rectHeight - (signalBaseHeight + signalStepHeight * i),\r\n        signalWidth,\r\n        signalBaseHeight + signalStepHeight * i,\r\n        signalRoundWidth\r\n    );\r\n    g.fill();\r\n}\r\ng.restore()\n}",
  "properties": {
    "signalLevel": {
      "valueType": "Number",
      "defaultValue": 5,
      "name": "信号等级",
      "description": "从0到5，共分为6级。"
    },
    "signalColor": {
      "valueType": "Color",
      "defaultValue": "#8BC44C",
      "name": "信号颜色"
    }
  }
}