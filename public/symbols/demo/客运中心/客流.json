{
  "modified": "Thu Nov 08 2018 01:55:49 GMT+0800 (中国标准时间)",
  "dataBindings": [
    {
      "attr": "location",
      "valueType": "String",
      "name": "设备位置"
    },
    {
      "attr": "deviceCode",
      "valueType": "String",
      "name": "设备编号"
    },
    {
      "attr": "psgInCount",
      "valueType": "String",
      "name": "进客流量"
    },
    {
      "attr": "psgOutCount",
      "valueType": "String",
      "name": "出客流量"
    },
    {
      "attr": "timeList",
      "valueType": "Object",
      "name": "时间列表"
    },
    {
      "attr": "psgInCountTrend",
      "valueType": "Object",
      "name": "进客列表"
    },
    {
      "attr": "psgOutCountTrend",
      "valueType": "Object",
      "name": "出客列表"
    }
  ],
  "renderHTML": "__ht__function(data, gv, cache) {\n    var option = cache.__option__;\n\n    if (!cache.htmlView) {\n        var div = cache.htmlView = ht.Default.createDiv();\n        var style = div.style;\n        style.position = 'absolute';\n        style.overflow = 'hidden';\n\n        cache.htmlChart = echarts.init(div);\n\n        // layoutHTML will be called when the data needs to be drawing\n        var setCSSCompatible = function (style, key, value) {\n            var ukey = key[0].toUpperCase + key.substring(1, key.length);\n            style['webkit' + ukey] = value;\n            style['moz' + ukey] = value;\n            style['ms' + ukey] = value;\n            style['o' + ukey] = value;\n            style[key] = value;\n        };\n        div.layoutHTML = function () {\n            var ui = gv.getDataUI(data);\n            if (!ui.interactiveInfo || !ui.interactiveInfo.bodyInfo) {\n                ht.Default.callLater(div.layoutHTML);\n                return;\n            }\n\n            var info, compInfos = ui.interactiveInfo.bodyInfo.compInfos;\n            for (var i = compInfos.length - 1; i >= 0; i--) {\n                info = compInfos[i];\n                if (info.comp.displayName === 'chartRect') break;\n            }\n            if (!info) return;\n\n            var mat = new ht.Math.Matrix2d(),\n                rect = info.rect,\n                zoom = gv.getZoom();\n            ht.Default.layout(div, rect);\n\n            mat.appendTranslate(gv.tx(), gv.ty());\n            mat.appendScale(zoom, zoom);\n            mat.append(info.matrix);\n\n            setCSSCompatible(style, 'transform', 'matrix(' + mat.a.toFixed(5) + ', ' + mat.b.toFixed(5) + ', ' + mat.c.toFixed(5) + ',\\n    ' + mat.d.toFixed(5) + ', ' + mat.tx.toFixed(5) + ', ' + mat.ty.toFixed(5) + ')');\n            setCSSCompatible(style, 'transformOrigin', (-rect.x).toFixed(5) + 'px ' + (-rect.y).toFixed(5) + 'px');\n\n            cache.htmlChart.resize();\n        };\n        gv.mp(function (e) {\n            if (e.property === 'zoom') {\n                div.layoutHTML();\n            }\n        });\n\n        option = cache.__option__ = {\n            textStyle: {\n                color: 'white'\n            },\n            title: {\n                text: '近一小时客流进出趋势',\n                textStyle: {\n                    color: 'white'\n                },\n                x: 'center'\n            },\n            tooltip: {\n                trigger: 'axis',\n                axisPointer: {\n                    type: 'cross',\n                    animation: false,\n                    label: {\n                        backgroundColor: '#505765'\n                    }\n                }\n            },\n            legend: {\n                data: ['进客', '出客'],\n                top: 28,\n                left: 'right',\n                textStyle: {\n                    color: 'white'\n                }\n            },\n            xAxis: {\n                type: 'category',\n                boundaryGap: false,\n                axisLine: { \n                    onZero: false,\n                    lineStyle: {\n                        color: 'white'\n                    }\n                },\n                data: [\n                    \"17:55\",\n                    \"18:00\",\n                    \"18:05\",\n                    \"18:10\",\n                    \"18:15\",\n                    \"18:20\",\n                    \"18:25\",\n                    \"18:30\",\n                    \"18:35\",\n                    \"18:40\",\n                    \"18:45\",\n                    \"18:50\",\n                    \"18:55\"\n                ]\n            },\n            yAxis: {\n                name: '流量(人)',\n                type: 'value',\n                axisLine: { \n                    lineStyle: {\n                        color: 'white'\n                    }\n                }\n            },\n            series: [\n                {\n                    name: '进客',\n                    type: 'line',\n                    animation: false,\n                    lineStyle: {\n                        width: 3\n                    },\n                    data: function () {\n                        var res = [];\n                        for (var i = 0; i < 13; i++) {\n                            res.push((Math.random() * 100).toFixed(2));\n                        }\n                        return res;\n                    }()\n                },\n                {\n                    name: '出客',\n                    type: 'line',\n                    animation: false,\n                    lineStyle: {\n                        width: 3\n                    },\n                    data: function () {\n                        var res = [];\n                        for (var i = 0; i < 13; i++) {\n                            res.push((Math.random() * 100).toFixed(2));\n                        }\n                        return res;\n                    }()\n                }\n            ],\n            color: ['rgb(242,83,75)', 'rgb(51,153,255)']\n        };\n    }\n\n    // update data\n    // option.xAxis[0].data = data.a('timeList');\n    // option.series[0].data = data.a('temperatureList');\n    // option.series[1].data = data.a('humidityList');\n\n    cache.htmlChart.setOption(option);\n\n    return cache.htmlView;\n}",
  "width": 600,
  "height": 357,
  "interactive": true,
  "comps": [
    {
      "type": "shape",
      "background": "rgba(5,12,43,0.8)",
      "borderWidth": 2,
      "borderColor": "rgb(0,30,89)",
      "borderCap": "round",
      "borderJoin": "bevel",
      "selectable": false,
      "movable": false,
      "editable": false,
      "displayName": "不规则图形",
      "points": [
        57.25037,
        17.89244,
        543.80739,
        17.89244,
        575.53937,
        41.51134,
        575.53937,
        171.67595,
        586.64556,
        183.22473,
        586.64556,
        238.33549,
        575.53937,
        250.11236,
        575.53937,
        309.19219,
        543.80739,
        332.81108,
        444.74897,
        332.81108,
        425.37761,
        347.64097,
        172.44281,
        347.64097,
        153.62405,
        332.81108,
        57.25037,
        332.81108,
        25.51838,
        309.19219,
        25.51838,
        250.40561,
        13.35445,
        238.33549,
        13.35445,
        183.22473,
        25.51838,
        171.67595,
        25.51838,
        41.51134,
        57.25037,
        17.89244
      ]
    },
    {
      "type": "shape",
      "background": "rgb(29,110,122)",
      "borderColor": "#979797",
      "selectable": false,
      "movable": false,
      "editable": false,
      "rotation": 4.71239,
      "points": [
        505.87245,
        306.69491,
        508.36638,
        309.06072,
        508.36648,
        371.63886,
        505.87255,
        368.98809
      ]
    },
    {
      "type": "shape",
      "borderWidth": 2,
      "borderColor": "rgb(77,107,189)",
      "borderCap": "round",
      "borderJoin": "bevel",
      "selectable": false,
      "movable": false,
      "editable": false,
      "displayName": "不规则图形",
      "points": [
        510.85243,
        11.68611,
        548.27316,
        11.68611,
        583.1847,
        34.19605,
        583.1847,
        100.56159,
        576.14727,
        100.56159,
        583.1847,
        100.56159
      ]
    },
    {
      "type": "shape",
      "borderWidth": 2,
      "borderColor": "rgb(77,107,189)",
      "borderCap": "round",
      "borderJoin": "bevel",
      "selectable": false,
      "movable": false,
      "editable": false,
      "displayName": "不规则图形",
      "scaleX": -1,
      "points": [
        18.32672,
        11.68611,
        55.74746,
        11.68611,
        90.65899,
        34.19605,
        90.65899,
        100.56159,
        84.86276,
        100.56159,
        90.65899,
        100.56159
      ]
    },
    {
      "type": "shape",
      "background": "rgb(29,110,122)",
      "fillRule": "evenodd",
      "selectable": false,
      "movable": false,
      "editable": false,
      "points": [
        149.17141,
        338.32552,
        158.09055,
        344.81161,
        132.85362,
        344.81161,
        123.73835,
        338.32552
      ]
    },
    {
      "type": "shape",
      "background": "rgb(29,110,122)",
      "fillRule": "evenodd",
      "selectable": false,
      "movable": false,
      "editable": false,
      "scaleX": -1,
      "points": [
        464.97898,
        338.32552,
        473.89812,
        344.81161,
        448.66119,
        344.81161,
        439.54591,
        338.32552
      ]
    },
    {
      "type": "shape",
      "background": "rgb(6,138,158)",
      "borderColor": "rgb(97,3,3)",
      "fillRule": "evenodd",
      "selectable": false,
      "movable": false,
      "editable": false,
      "points": [
        441.88281,
        313.65955,
        441.88281,
        327.11834,
        421.447,
        341.56857,
        174.95367,
        341.56857,
        156.48567,
        327.11834,
        156.48567,
        313.65955
      ]
    },
    {
      "type": "shape",
      "background": "rgb(29,110,122)",
      "borderColor": "#979797",
      "selectable": false,
      "movable": false,
      "editable": false,
      "scaleX": -1,
      "rotation": 4.71239,
      "points": [
        90.36376,
        307.35767,
        92.85769,
        309.38356,
        92.85761,
        370.97624,
        90.36366,
        368.32546
      ]
    },
    {
      "type": "shape",
      "background": "rgb(29,110,122)",
      "fillRule": "evenodd",
      "selectable": false,
      "movable": false,
      "editable": false,
      "points": [
        444.09672,
        9.35903,
        459.74966,
        9.35903,
        454.53202,
        13.97038,
        438.87908,
        13.97038,
        444.09672,
        9.35903,
        444.09672,
        9.35903
      ]
    },
    {
      "type": "shape",
      "background": "rgb(35,157,176)",
      "fillRule": "evenodd",
      "selectable": false,
      "movable": false,
      "editable": false,
      "points": [
        464.96731,
        9.35903,
        480.62024,
        9.35903,
        475.4026,
        13.97038,
        459.74966,
        13.97038,
        464.96731,
        9.35903,
        464.96731,
        9.35903
      ]
    },
    {
      "type": "shape",
      "background": "rgb(38,169,189)",
      "fillRule": "evenodd",
      "selectable": false,
      "movable": false,
      "editable": false,
      "points": [
        485.83788,
        9.35903,
        501.49083,
        9.35903,
        496.27319,
        13.97038,
        480.62024,
        13.97038,
        485.83788,
        9.35903,
        485.83788,
        9.35903
      ]
    },
    {
      "type": "shape",
      "background": "rgb(50,212,237)",
      "fillRule": "evenodd",
      "selectable": false,
      "movable": false,
      "editable": false,
      "points": [
        506.70847,
        9.35903,
        522.36141,
        9.35903,
        517.14378,
        13.97038,
        501.49083,
        13.97038,
        506.70847,
        9.35903,
        506.70847,
        9.35903
      ]
    },
    {
      "type": "shape",
      "background": "rgb(29,110,122)",
      "borderColor": "#979797",
      "scaleX": -1,
      "rotation": 4.71239,
      "points": [
        301.86939,
        -102.49716,
        303.27187,
        -102.49716,
        303.27157,
        371.54475,
        301.86909,
        371.54474
      ]
    },
    {
      "type": "text",
      "text": {
        "func": "attr@location",
        "value": "区域名称：L2通道"
      },
      "align": "center",
      "color": "rgb(247,247,247)",
      "font": "14px arial, sans-serif",
      "rect": [
        156.48567,
        313.65955,
        285.39714,
        27.90902
      ]
    },
    {
      "type": "text",
      "text": "设备编号：",
      "color": "rgb(247,247,247)",
      "font": "14px arial, sans-serif",
      "rect": [
        65.54852,
        50.48232,
        0.001,
        0.001
      ]
    },
    {
      "type": "text",
      "text": {
        "func": "attr@deviceCode",
        "value": "3262"
      },
      "color": "rgb(247,247,247)",
      "font": "14px arial, sans-serif",
      "scaleX": 1.5,
      "scaleY": 1.5,
      "rect": [
        140.9132,
        50.48357,
        0.001,
        0.001
      ]
    },
    {
      "type": "image",
      "name": "symbols/demo/客运中心/人.json",
      "displayName": "人",
      "anchorY": 1,
      "rect": [
        121.68746,
        88.06602,
        36,
        36
      ]
    },
    {
      "type": "text",
      "text": "进",
      "align": "center",
      "color": "rgb(247,247,247)",
      "font": "14px arial, sans-serif",
      "scaleX": 1.64,
      "scaleY": 1.64,
      "rect": [
        107.36038,
        107.56162,
        0.001,
        0.001
      ]
    },
    {
      "type": "text",
      "text": "正常",
      "color": "rgb(242,83,75)",
      "font": "14px arial, sans-serif",
      "scaleX": 1.36,
      "scaleY": 1.36,
      "rect": [
        236.51178,
        99.46198,
        0.001,
        0.001
      ]
    },
    {
      "type": "text",
      "text": {
        "func": "attr@psgInCount",
        "value": "900"
      },
      "align": "right",
      "color": "rgb(242,83,75)",
      "font": "14px arial, sans-serif",
      "scaleX": 3,
      "scaleY": 3,
      "rect": [
        242.51105,
        106.55934,
        0.001,
        0.001
      ]
    },
    {
      "type": "text",
      "text": "人",
      "vAlign": "bottom",
      "color": "rgb(247,247,247)",
      "font": "14px arial, sans-serif",
      "scaleX": 0.85,
      "scaleY": 0.85,
      "rect": [
        236.51317,
        125.70256,
        0.001,
        0.001
      ]
    },
    {
      "type": "shape",
      "background": "rgb(29,110,122)",
      "borderColor": "#979797",
      "scaleX": -1,
      "rotation": 6.28319,
      "points": [
        299.29891,
        79.56159,
        300.70139,
        79.56159,
        300.70109,
        129.56159,
        299.29861,
        129.56159
      ]
    },
    {
      "type": "image",
      "name": "symbols/demo/客运中心/人.json",
      "displayName": "人",
      "anchorY": 1,
      "rect": [
        359.77254,
        88.06702,
        36,
        36
      ]
    },
    {
      "type": "text",
      "text": "出",
      "align": "center",
      "color": "rgb(247,247,247)",
      "font": "14px arial, sans-serif",
      "scaleX": 1.64,
      "scaleY": 1.64,
      "rect": [
        345.49482,
        107.56162,
        0.001,
        0.001
      ]
    },
    {
      "type": "text",
      "text": "正常",
      "color": "rgb(51,153,255)",
      "font": "14px arial, sans-serif",
      "scaleX": 1.36,
      "scaleY": 1.36,
      "rect": [
        474.64622,
        99.46198,
        0.001,
        0.001
      ]
    },
    {
      "type": "text",
      "text": {
        "func": "attr@psgOutCount",
        "value": "900"
      },
      "align": "right",
      "color": "rgb(51,153,255)",
      "font": "14px arial, sans-serif",
      "scaleX": 3,
      "scaleY": 3,
      "rect": [
        480.64549,
        106.55934,
        0.001,
        0.001
      ]
    },
    {
      "type": "text",
      "text": "人",
      "vAlign": "bottom",
      "color": "rgb(247,247,247)",
      "font": "14px arial, sans-serif",
      "scaleX": 0.85,
      "scaleY": 0.85,
      "rect": [
        474.64761,
        125.70256,
        0.001,
        0.001
      ]
    },
    {
      "type": "rect",
      "displayName": "chartRect",
      "rect": [
        55,
        139,
        490,
        208.64097
      ]
    }
  ]
}