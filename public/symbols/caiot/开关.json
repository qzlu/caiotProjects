{
  "modified": "Thu Nov 14 2019 16:06:12 GMT+0800 (中国标准时间)",
  "background": "rgb(247,247,247)",
  "dataBindings": [
    {
      "attr": "CloseCmdID",
      "valueType": "String",
      "name": "关指令ID"
    },
    {
      "attr": "StartCmdID",
      "valueType": "String",
      "name": "开指令ID"
    },
    {
      "attr": "CurrentStatus",
      "valueType": "String",
      "name": "开/关"
    }
  ],
  "onClick": "__ht__function(event, data, view, point, width, height) {\nlet CurrentStatus = data.a('CurrentStatus')\r\nlet parent = data.getParent()\r\nif(CurrentStatus == '开'){\r\n    data.a('CurrentStatus','关')\r\n    parent.a('DeviceState',0)\r\n}else{\r\n    data.a('CurrentStatus','开')\r\n    parent.a('DeviceState',1)\r\n}\n}",
  "renderHTML": "__ht__function(data, gv, cache) {//根据当前状态，设置下一个状态\nlet cmdStatus = data.a('CurrentStatus')\nlet dataModel = data.getDataModel()\nlet parent = data.getParent()\nif(parent&&parent.a('DeviceState') == 1){\n    data.a('CurrentStatus','开')\n}else{\n    data.a('CurrentStatus','关')\n}\n\n    \nif(cmdStatus==='开'){\n   \n}}",
  "width": 100,
  "height": 100,
  "interactive": true,
  "disableSelectedBorder": true,
  "comps": [
    {
      "type": "roundRect",
      "background": {
        "func": "__ht__function(data, view) {\nlet status = data.a('CurrentStatus')\nif(status==='关'){\n    return '#888888'\n}else{\n    return '#60acfc'\n}\n}",
        "value": "#60ACFC"
      },
      "borderWidth": 1,
      "borderColor": "rgb(240,237,237)",
      "cornerRadius": 11,
      "rect": [
        29.55172,
        31.44828,
        47.17241,
        22.51724
      ]
    },
    {
      "type": "text",
      "text": "开",
      "color": "rgb(250,247,247)",
      "font": "11px arial, sans-serif",
      "rect": [
        34.24818,
        37,
        15.75182,
        13
      ]
    },
    {
      "type": "text",
      "text": {
        "func": "__ht__function(data, view) {\nlet status = data.a('CurrentStatus')\nif(status==='开'){\n    return '开'\n}else{\n      return '关'\n}\n}",
        "value": "开"
      },
      "color": "rgb(250,247,247)",
      "font": "11px arial, sans-serif",
      "rect": [
        55.98276,
        37,
        15.75182,
        13
      ]
    },
    {
      "type": "circle",
      "background": {
        "func": "__ht__function(data, view) {\nlet status = data.a('CurrentStatus')\nif(status==='关'){\n    return 'rgba(0,0,0,0)'\n}else{\n    return 'rgba(250,250,250,1)'\n}\n}",
        "value": "rgb(255,252,252)"
      },
      "borderWidth": 1,
      "borderColor": {
        "func": "__ht__function(data, view) {\nlet status = data.a('CurrentStatus')\nif(status==='关'){\n    return 'rgba(0,0,0,0)'\n}else{\n    return 'rgba(250,250,250,1)'\n}\n}",
        "value": "rgb(250,250,250)"
      },
      "displayName": "圆形",
      "rect": [
        55.98276,
        31.44828,
        21.46552,
        22.51724
      ]
    },
    {
      "type": "circle",
      "background": {
        "func": "__ht__function(data, view) {\nlet status = data.a('CurrentStatus')\nif(status!=='关'){\n    return 'rgba(0,0,0,0)'\n}else{\n    return 'rgba(250,250,250,1)'\n}\n}",
        "value": "rgb(255,252,252)"
      },
      "borderWidth": 1,
      "borderColor": {
        "func": "__ht__function(data, view) {\nlet status = data.a('CurrentStatus')\nif(status!=='关'){\n    return 'rgba(0,0,0,0)'\n}else{\n     return 'rgba(250,250,250,1)'\n}\n}",
        "value": "rgb(250,250,250)"
      },
      "displayName": "圆形",
      "rect": [
        28.55172,
        31.44828,
        21.46552,
        22.51724
      ]
    }
  ]
}